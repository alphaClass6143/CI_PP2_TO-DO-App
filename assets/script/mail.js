/**
 * Sends newsletter email
 * Code structure mostly generated by EmailJS
 * Notifications have been added
 */

document.querySelector("#newsletter-form").addEventListener('submit', function(event) {
   event.preventDefault();

   let button = document.querySelector("#signup-btn").value = "Sending..."

   const serviceID = 'service_0h6v5dc';
   const templateID = 'template_u63b9wu';

   emailjs.sendForm(serviceID, templateID, this)
    .then(() => {
        createNotification("Subscription successful!", NOTIFICATION_TYPES.warning)
        button.value = "Success!"
        toggleNewsletterModal();
        button.value = "Subscribe"

    }, (err) => {
      createNotification(err.message, NOTIFICATION_TYPES.warning)
      console.log(JSON.stringify(err));
    });
});